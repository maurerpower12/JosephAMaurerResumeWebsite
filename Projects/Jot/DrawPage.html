<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=yes">
        <meta name="keywords" content="HTML5, Canvas, Note Taking, Hand writing, Javascript">
        <meta name="description" content="An HTML5 Canvas Note Taking Application">
        <meta name="author" content="Joseph A Maurer">
        <link rel="icon" href="/favicon.ico" sizes="16x16 32x32 48x48 64x64" type="image/vnd.microsoft.icon">
        
        <!-- Open Graph Support -->
        <meta property="og:title" content="Joseph A Maurer &mdash; Software Engineer" />
        <meta property="og:description" content="Software Engineering in Reno, NV. A collection of personal & work projects." />
        <meta property="og:image" content="https://www.josephamaurer.com/img/[DRAFT]%20Joseph%20Maurer%20Logo.png" />
        <meta property="og:image:width" content="2989" />
        <meta property="og:image:height" content="598" />
        
        <title>Jot by Verge Sample Note</title>

        <link href="Styles/DrawPage.css" rel="stylesheet" />

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <!-- Custom Fonts -->
        <script src="https://kit.fontawesome.com/c372db8bc7.js" crossorigin="anonymous"></script>
        </head>

        <body>
            <!-- Code here for top menu -->
            <nav id="topNav" class="navbar navbar-dark bg-dark">
                <div class="mx-auto" style="display:inline-flex;">
                    <!-- Sections with the buttons for the tool bar -->
                    <span title="Text">
                        <button id="btn1" type="button" onclick="ToolFunction(9)">
                            <img src="Jot_Icons/Text.png" class="nav-icon"/>
                        </button>
                    </span>

                    <span title="Draw and Highligher">
                        <button id="btn2" type="button">
                            <img src="Jot_Icons/brush.png"  class="nav-icon"/>
                        </button>
                    </span>
    
                    <span title="Shapes">
                        <button id="btn3" type="button">
                            <img src="Jot_Icons/Shapes.png"  class="nav-icon"/>
                        </button>
                    </span>
    
                    <span title="Share/Export">
                        <button id="ShareNoteButton" type="button">
                            <i class='fa fa-share-alt fa-3x nav-icon'aria-hidden='true' 
                                style="color: #b40f18;"></i>
                            </button>
                    </span>
    
                    <span title="Settings">
                        <button id='btn4' type="button">
                            <img src="Jot_Icons/Settings.png"  class="nav-icon"/>
                        </button>
                    </span>
                    <!--  END Sections with the buttons for the tool bar -->
                </div>

                <!-- Menu icon in the top right corner  -->
                <div class="pull-right hidden-sm-down">
                    <a id="nav-expander">
                        <i class='fas fa-brush fa-2x nav-icon'aria-hidden='true'></i>
                    </a>
                </div>
            </nav>


            <!-- Modal for display help -->
            <div id="Helpmodal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close">&times;</button>
                            <h4 class="modal-title">Help</h4>
                        </div>
                        <div class="modal-body" style="padding: 40px 50px;">
                            <p>CTRL S - saves the note </p>
                            <p>CTRL Z - undo the last mark </p>
                            <p>CTRL Q - redo the last mark </p>
                            <p>CTRL 1 - Circle </p>
                            <p>CTRL 2 - Rectangle </p>
                            <p>CTRL 3 - Line </p>
                            <p>CTRL 4 - Triangle </p>
                            <p>CTRL 5 - Square </p>
                            <p>CTRL 6 - FreeForm Line </p>
                            <p>CTRL 7 - Erase </p>
                            <p>CTRL 8 - Text </p>
                            <p>CTRL P - Print </p>
                        </div>
                        <div class="modal-footer">
                            <button data-dismiss="modal" type="submit" class="btn btn-danger btn-default pull-left"><span
                                    class="glyphicon glyphicon-remove"></span>Cancel</button>
                        </div>
                    </div>
        
                </div>
            </div>


            <!-- Modal for displaying background templates -->
            <div id="TemplateModal" class="modal fade" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Background Templates</h4>
                        </div>
                        <div class="modal-body" style="padding: 40px 50px;">
                            <div class="row">
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(1);">
                                        <img src="Background%20Templates/jpg/narrow%20ruled%202.jpeg"
                                            class="thumbnail img-responsive">
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(2);">
                                        <img src="Background%20Templates/jpg/todo%202.jpeg" class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(3)">
                                        <img src="Background%20Templates/jpg/dot%20grid%20med%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(4)">
                                        <img src="Background%20Templates/jpg/graph%202.jpeg" class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(6)">
                                        <!-- Engineering -->
                                        <img src="Background%20Templates/jpg/engineering_grey%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(7)">
                                        <img src="Background%20Templates/jpg/calendar%20week%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(8)">
                                        <img src="Background%20Templates/jpg/meeting%20notes%20basic%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(15)">
                                        <img src="Background%20Templates/jpg/meeting%20notes%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(14)">
                                        <img src="Background%20Templates/jpg/legal%202.jpeg" class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(16)">
                                        <img src="Background%20Templates/jpg/ruled%20margin%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(9)">
                                        <img src="Background%20Templates/jpg/music%20staves%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(10)">
                                        <img src="Background%20Templates/jpg/baseball%20portrait%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(11)">
                                        <img src="Background%20Templates/jpg/basketball%20landscape%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(12)">
                                        <img src="Background%20Templates/jpg/football%20landscape%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(13)">
                                        <img src="Background%20Templates/jpg/soccer%20landscape%202.jpeg"
                                            class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(18)">
                                        <img src="Background%20Templates/color/blue.jpg" class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(19)">
                                        <img src="Background%20Templates/color/Green.jpg" class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(20)">
                                        <img src="Background%20Templates/color/red.jpg" class="thumbnail img-responsive" />
                                    </a>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-xs-12">
                                    <a onclick="bgFunction(0)">
                                        <img src="Background%20Templates/color/white.jpg" class="thumbnail img-responsive" />
                                    </a>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button data-dismiss="modal" type="button" class="btn btn-success btn-default pull-right"><span
                                    class="glyphicon glyphicon-ok"></span>Save</button>
                            <button data-dismiss="modal" type="submit" class="btn btn-danger btn-default pull-left"><span
                                    class="glyphicon glyphicon-remove"></span>Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--  Modal for sharing a note with another user.  -->
            <div id="ShareNoteModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button class="close" type="submit" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Who do you want to share this note with?</h4>
                        </div>
                        <div class="modal-body" style="padding: 40px 50px;">
                            <p style="color: #b40f18;">This feature is diabled, feel free to screenshot your
                                drawling though!</p>
                            <p>Enter the email of who you want to share the note with: </p>
                            <p style="color: darkgrey;">For multiple emails, separate the emails with
                                commas. </p>

                            <input type="text" id="DestEmailEntry" class="form-control"
                                required="required" />
                            <div>
                                <label class="radio-inline">Read Only</label>
                                <input type="radio" id="read-only-permission" name="optradio" value="0"
                                    required="required" />
                                <label class="radio-inline">Edit</label>
                                <input type="radio" id="edit-permission" name="optradio" value="1" />
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button data-dismiss="modal" type="button"
                                class="btn btn-success btn-default pull-right"><span
                                    class="glyphicon glyphicon-ok"></span>Send</button>
                            <button data-dismiss="modal" type="submit"
                                class="btn btn-danger btn-default pull-left"><span
                                    class="glyphicon glyphicon-remove"></span>Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
            

            <!--  Control for the canvas -->
            <div class="container-fluid p-0 m-0">
                <div class="row justify-content-md-center">
                    <div class="col-9 p-0 ml-5 mr-0">
                        <canvas id="myCanvas" height="1300" width="1000">
                            Your browser does not support HTML5 canvas :(
                        </canvas>
                    </div>
                    <div class="col-2 hidden-sm-down p-0 m-0">
                        <!-- Code here for slide menu -->
                        <div id="sidePanel" style="display: none;">
                            <div class="dropdown">
                                <ul class="list-unstyled main-menu" id="tool-bar-text">
                                    <!-- Text Modal -->
                                    <h4>Text Tool</h4>
            
                                    <br />
                                    <p>Select Text Size</p>
                                    <input type="range" id="textRange" min="5" max="90" step="1" value="30"
                                        onchange="ChangeFontSize(this.value);">
                                    <span id="textsize" style="color: white">30</span>
                                    <br />
                                    <div class="col-center-block" style="align-content: center;" id="stylepicker">
                                        <span class="stylepickercells" style="font-weight: bold" onclick="BIU('bold');"><i
                                                class="material-icons">format_bold</i></span>
                                        <span class="stylepickercells" style="font-style: italic" onclick="BIU('italic');"><i
                                                class="material-icons">format_italic</i></span>
                                        <span class="stylepickercells" style="font-style: italic; font-weight: bold"
                                            onclick="BIU('italic bold');"><i class="material-icons">format_bold</i><i
                                                class="material-icons">format_italic</i></span>
                                        <span class="stylepickercells" onclick="BIU('small-caps');"><i
                                                class="material-icons">text_fields</i></span>
                                    </div>

                                    <hr class="m-2">

                                    <div class="d-flex m-2">
                                        <div>
                                            Font
                                        </div>
                                        <div class="ml-auto">
                                            <select id="font" onchange="ChangeFont(this);">
                                                <option style="font-family: arial;">Arial</option>
                                                <option style="font-family: Verdana;">Verdana</option>
                                                <option style="font-family: Times New Roman;">Times New Roman</option>
                                                <option style="font-family: Courier New;">Courier New</option>
                                                <option style="font-family: serif;">serif</option>
                                                <option style="font-family: sans-serif;">sans-serif</option>
                                                <option style="font-family: Comic Sans MS;">Comic Sans MS </option>
                                                <option style="font-family: Lobster;">Lobster</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="d-flex m-2">
                                        <div>
                                            Color
                                        </div>
                                        <div class="ml-auto">
                                            <input type="color" id="textColor" name="textColor" value="black" >
                                        </div>
                                    </div>
                                </ul>
            
                                <ul class="list-unstyled main-menu" id="tool-bar-draw">
                                    <h4>Draw Tool</h4>
            
                                    <div class="btn-group btn-group-toggle m-3" role="group" aria-label="Draw Tools">
                                        <button type="button" class="btn btn-light p-0" id="PenTool">
                                            <div id="Pen-tool" class="col-sm-2" onclick="ToolFunction(7)">
                                                <span title="Pencil">
                                                    <i class="material-icons" style="font-size: 35px;">
                                                        gesture
                                                    </i>
                                                </span>
                                            </div>
                                        </button>
                                        <button type="button" class="btn btn-light p-0" id="HighlighterTool">
                                            <div id="Highlighter-tool" class="col-sm-2" onclick="ToolFunction(0)">
                                                <span title="Highligher">
                                                    <img src="Jot_Icons/Highlighter.svg" style="width: 35px; height: 35px;" />
                                                </span>
                                            </div>
                                        </button>
                                        <button type="button" class="btn btn-light p-0" id="EraserTool">
                                            <div onclick="ToolFunction(8)" class="col-sm-2">
                                                <span title="Eraser"><i class="fa fa-eraser fa-2x" aria-hidden="true"></i></span>
                                            </div>
                                        </button>
                                    </div>


                                    <div class="btn-group btn-group-toggle m-3" role="group" aria-label="Pen Styles">
                                        <button type="button" class="btn btn-light p-0" id="PenStyle">
                                            <div class="col-sm-2">
                                                <i class="fas fa-pen fa-2x"></i>
                                            </div>
                                        </button>
                                        <button type="button" class="btn btn-light p-0" id="Felt">
                                            <div class="col-sm-2">
                                                <i class="fas fa-marker fa-2x"></i>
                                            </div>
                                        </button>
                                        <button type="button" class="btn btn-light p-0" id="SprayPaint">
                                            <div class="col-sm-2">
                                                <i class="fas fa-spray-can fa-2x"></i>
                                            </div>
                                        </button>
                                    </div>

                                    <!-- color picker for the draw tools -->
                                    <hr class="m-2">
                                    <div class="d-flex">
                                        <div>
                                            Color
                                        </div>
                                        <div class="ml-auto">
                                            <input type="color" id="penColor" name="penColor" value="black" >
                                        </div>
                                    </div>
                                    <div class="d-flex">
                                        <div>
                                            Size
                                        </div>
                                        <div class="ml-auto">
                                            <div style="text-align: center; display: inline-flex;">
                                                <input id="penSize" type="range" min="1" max="10" step="1">
                                                <div>
                                                    <svg height="40" width="40">
                                                        <circle cx="15" cy="20" r="1" stroke="white" fill="white" stroke-width="3" fill="black" id="penSizeSample"/>
                                                    </svg>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
            
                                <ul class="list-unstyled main-menu " id="tool-bar-shapes">
                                    <!-- Shapes Settings -->
                                    <h4>Shapes Tool</h4>

                                    <!-- Code to display the different shapes options to the user -->
                                    <div id="shapepicker">

                                        <div class="btn-group btn-group-toggle m-3" role="group" aria-label="Draw Tools">
                                            <button type="button" class="btn btn-light p-0" id="CircleShape">
                                                <div class="col-sm-4 shapepickercells" onclick="ToolFunction(1); ">
                                                    <span title="Circle">
                                                        <i class="material-icons shape_ico_size">panorama_fish_eye</i>
                                                    </span>
                                                </div>
                                            </button>
                                            <button type="button" class="btn btn-light p-0" id="OvalShape">
                                                <div class="col-sm-4 shapepickercells" onclick="ToolFunction(6)">
                                                    <span title="Ellipse">
                                                        <i class="material-icons shape_ico_size">vignette</i>
                                                    </span>
                                                </div>
                                            </button>
                                            <button type="button" class="btn btn-light p-0" id="RectangleShape">
                                                <div class="col-sm-4 shapepickercells" onclick="ToolFunction(2)">
                                                    <span title="Rectangle"> 
                                                        <i class="material-icons shape_ico_size">crop_5_4</i>
                                                    </span>
                                                </div>
                                            </button>
                                        </div>

                                        <div class="btn-group btn-group-toggle m-3" role="group" aria-label="Draw Tools">
                                            <button type="button" class="btn btn-light p-0" id="LineShape">
                                                <div class="col-sm-4 shapepickercells" onclick="ToolFunction(3)">
                                                    <span title="Line">
                                                        <i class="material-icons shape_ico_size">linear_scale</i>
                                                    </span>
                                                </div>
                                            </button>
                                            <button type="button" class="btn btn-light p-0" id="TriangleShape">
                                                <div class="col-sm-4 shapepickercells" onclick="ToolFunction(4)">
                                                    <span title="Triangle">
                                                        <i class="material-icons shape_ico_size">change_history</i>
                                                    </span>
                                                </div>
                                            </button>
                                            <button type="button" class="btn btn-light p-0" id="SquareShape">
                                                <div class="col-sm-4 shapepickercells" onclick="ToolFunction(5)">
                                                    <span title="Square">
                                                        <i class="material-icons shape_ico_size"> check_box_outline_blank</i>
                                                    </span>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
            
                                    <!-- Color picker for different shapes -->
                                    <hr class="m-2">
                                    <div class="d-flex">
                                        <div>
                                            Fill Color
                                        </div>
                                        <div class="ml-auto">
                                            <input type="color" id="shapeFillColor" name="shapeFillColor" value="black" >
                                        </div>
                                    </div>
                                    <hr class="m-2">
                                    <h5>Outline</h5>
                                    <div>
                                        <div class="d-flex">
                                            <div>
                                                Color
                                            </div>
                                            <div class="ml-auto">
                                                <input type="color" id="shapeOutlineColor" name="shapeOutlineColor" value="black" >
                                            </div>
                                        </div>
                                        <div class="ml-auto">
                                            Size
                                            <div style="text-align: center; display: inline-flex;">
                                                <input id="shapeSize" type="range" min="1" max="10" step="1">
                                                <div>
                                                    <svg height="40" width="40">
                                                        <circle cx="15" cy="20" r="1" stroke="white" fill="white" stroke-width="3" fill="black" id="shapeSizeSample"/>
                                                    </svg>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
            
                                <ul class="list-unstyled main-menu " id="tool-bar-settings">
                                    <!-- Settings Modal -->
                                    <h4>Settings</h4>
            
            
                                    <span title="undo"><button type="button" onclick="undo()"><i
                                                class="material-icons">undo</i></button></span>
                                    <span title="redo"><button type="button" onclick="redo()"><i
                                                class="material-icons">redo</i></button></span>
                                    <span title="print"><button type="button" onclick="Print()"><i class="fa fa-print fa-2x"
                                                aria-hidden="true"></i></button></span>
                                    <span title="download"><button type="button" onclick="downloadCanvas()"><i
                                                class="fa fa-download fa-2x" aria-hidden="true"></i></button></span>
                                    <button id="TemplateButton" type="button" class="btn btn-default btn-block">Background
                                        Templates</button>
            
                                    <h5>Set your own template</h5>
                                    <input class="btn btn-default btn-block" type="file" id="input" accept="image/jpeg, image/png"
                                        onchange="handleFiles(this.files); " />
                                    <br />
            
                                    <br /><br />
                                    <h5>Left Hand mode</h5>
                                    <label class="switch" style="left: 5px; right: -5px;">
                                        <input class="savecheckbox" type="checkbox" onchange="lefthandedmode();">
                                        <div class="slider round" id="leftslider"></div>
                                    </label>
            
                                    <button type="button" onclick=" $('#Helpmodal').appendTo('body').modal('show');"><i
                                            class="fa fa-question-circle"
                                            style="position:absolute; bottom: 0px !important; right: 0px !important;"
                                            aria-hidden="true"></i></button>
            
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add page/remove icon in the bottom left -->
            <div class="mx-2" style="position: fixed; bottom: 0; z-index: 1000;">

                <div id="AddPageIcon">
                    <span title="Delete Shape" onclick="DeleteSelectedShape()">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-trash fa-stack-1x fa-inverse" aria-hidden="true"></i>
                        </span>
                    </span>
                </div>

                <div id="AddPageIcon">
                    <span title="Add a Page" onclick="addPage()">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-plus fa-stack-1x fa-inverse" aria-hidden="true"></i>
                        </span>
                    </span>
                </div>
            
                <div id="RemovePageIcon">
                    <span title="Remove a Page" onclick="removePage()">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-square fa-stack-2x"></i>
                            <i class="fa fa-minus fa-stack-1x fa-inverse" aria-hidden="true"></i>
                        </span>
                    </span>
                </div>
            </div>
        </body>

    <!-- External includes for essentials. -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src='https://apis.google.com/js/platform.js' async defer></script>
    <script src="http://parall.ax/parallax/js/jspdf.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <!-- Custom Canvas marks scripts -->
    <script type="text/javascript" src="JavaScript/Canvas.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/JotCanvas.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Circle.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Ellipse.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Eraser.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/FreeFormLine.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/JotCanvas.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Line.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Rectangle.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Square.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Triangle.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Text.js"></script>
    <script type="text/javascript" src="JavaScript/Shapes/Highlighter.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            // Navigation Menu Slider
            $('#nav-expander').on('click', function (e) {
                e.preventDefault();
                $('#sidePanel').toggle();
            });

            $('#nav-close').on('click', function (e) {
                e.preventDefault();
                $('body').removeClass('nav-expanded');
                
                $('#tool-bar').hide();
                $('body').toggleClass('nav-expanded');
            });

            // These function show and hide the different settings panels for each option in the tool bar
            $('#btn1').click(function () { // btn 1 maps to text settings
                $('#tool-bar-draw').hide();
                $('#tool-bar-shapes').hide();
                $('#tool-bar-settings').hide();
                $('#tool-bar-text').show();
                $('#sidePanel').show();
            });
            $('#btn2').click(function () { // btn 2 maps to draw settings 
                $('#tool-bar-text').hide();
                $('#tool-bar-shapes').hide();
                $('#tool-bar-settings').hide();
                $('#tool-bar-draw').show();
                $('#sidePanel').show();
            });
            $('#btn3').click(function () { // btn 3 maps to the shapes settings
                $('#tool-bar-text').hide();
                $('#tool-bar-settings').hide();
                $('#tool-bar-draw').hide();
                $('#tool-bar-shapes').show();
                $('#sidePanel').show();
            });
            $('#btn4').click(function () { // btn 4 maps to the settings
                $('#tool-bar-text').hide();
                $('#tool-bar-draw').hide();
                $('#tool-bar-shapes').hide();
                $('#tool-bar-settings').show();
                $('#sidePanel').show();
            });

            $('#ShareNoteButton').click(function () {
                $("#ShareNoteModal").appendTo("body").modal('show');
            });
            $('#TemplateButton').click(function () {
                $("#TemplateModal").appendTo("body").modal('show');
            });

            // Hide the pop up so that it isn't displays when the page first loads
            $("#pleaseWaitDialog").hide(); // hide the loading screen things
            $("#TemplateModal").hide(); // hide the template with the modal
            has_shown_save = false;

            // hide the layers for the tools
            $('#tool-bar-text').hide();
            $('#tool-bar-draw').hide();
            $('#tool-bar-shapes').hide();
            $('#tool-bar-settings').hide();

            // Draw Tools Buttons
            $("#PenTool").click(function () { 
                $( "#PenTool" ).removeClass("disabled");
                $( "#HighlighterTool" ).addClass("disabled");
                $( "#EraserTool" ).addClass("disabled");
            });
            $("#HighlighterTool").click(function () { 
                $( "#PenTool" ).addClass("disabled");
                $( "#HighlighterTool" ).removeClass("disabled");
                $( "#EraserTool" ).addClass("disabled");
            });

            // Shape Tool Buttons
            $("#CircleShape").click(function (e) { 
                disableShapeButtons();
                $(this).removeClass("disabled");
                $(this).addClass("active");
            });
            $("#OvalShape").click(function () {
                disableShapeButtons();
                $(this).removeClass("disabled");
                $(this).addClass("active");
            });
            $("#RectangleShape").click(function () { 
                disableShapeButtons();
                $(this).removeClass("disabled");
                $(this).addClass("active");
            });
            $("#LineShape").click(function () { 
                disableShapeButtons();
                $(this).removeClass("disabled");
                $(this).addClass("active");
            });
            $("#TriangleShape").click(function () { 
                $("#shapepicker button").each(function(btn){
                    $( this).addClass("disabled");
                })
                $(this).removeClass("disabled");
                $(this).addClass("active");
            });
            $("#SquareShape").click(function () { 
                disableShapeButtons();
                $(this).removeClass("disabled");
                $(this).addClass("active");
            });
            // Disables all buttons in the shape picker
            function disableShapeButtons() {
                $("#shapepicker button").each(function(btn){
                    $( this ).addClass("disabled");
                })
            };

            $("#shapeFillColor").on("change", function (event) {
                ToolColor(event.target.value);
            });

            $("#shapeOutlineColor").on("change", function (event) {
                ToolOutlineColor(event.target.value);
            });

            $("#penColor").on("change", function (event) {
                LineColor(event.target.value);
            });

            $("#textColor").on("change", function (event) {
                TextColor(event.target.value);
            });

            $("#penSize").on("change", function (event) {
                ThicknessFunction(event.target.value);

                document.getElementById("penSizeSample").setAttribute('r', event.target.value );
            });

            $("#shapeSize").on("change", function (event) {
                console.log(event.target.value);
                OutlineThicknessFunction(this.value);

                document.getElementById("shapeSizeSample").setAttribute('r', event.target.value );
            });
        });

        // Can NOT be moved to a seperate file
        // Switch for the different CTRL traps that our site uses
        $(window).bind('keydown', function (event) {
            if (event.ctrlKey || event.metaKey) {
                switch (String.fromCharCode(event.which).toLowerCase()) {
                    case 's': // CTRL S calls save
                        event.preventDefault();
                        break;
                    case 'z': // CTRL Z calls undo
                        event.preventDefault();
                        undo();
                        break;
                    case 'p': // CTRL P calls print
                        event.preventDefault();
                        Print();
                        break;
                    case 'q': // CTRL Q calls redo
                        event.preventDefault();
                        redo();
                        break;
                    case 'h': // CTRL H displays the help section
                        event.preventDefault();
                        $("#Helpmodal").appendTo("body").modal('show');
                        break;
                    case '1': // CTRL 1 Selects the Circle Tool
                        event.preventDefault();
                        ToolFunction(1);
                        break;
                    case '2': // CTRL 2 Selects the Rectangle Tool
                        event.preventDefault();
                        ToolFunction(2);
                        break;
                    case '3': // CTRL 3 Selects the Line Tool
                        event.preventDefault();
                        ToolFunction(3);
                        break;
                    case '4': // CTRL 4 Selects the Triangle Tool
                        event.preventDefault();
                        ToolFunction(4);
                        break;
                    case '5': // CTRL 5 Selects the Square Tool
                        event.preventDefault();
                        ToolFunction(5);
                        break;
                    case '6': // CTRL 6 Selects the FreeForm Tool
                        event.preventDefault();
                        ToolFunction(7);
                        break;
                    case '7': // CTRL 7 Selects the Eraser Tool
                        event.preventDefault();
                        ToolFunction(8);
                        break;
                    case '8': // CTRL 8 Selects the Text Tool
                        event.preventDefault();
                        ToolFunction(9);
                        break;
                }
            }
        });

        // This function flips the tool bar from the side of the screen that its on to the other
        // For example if the tool bar is on the right hand side, it will flip to the other side
        // The add page icon will also flip side from left to right so that it won't conflict
        // Finally the canvas will shift over slightly so the tool bar doesn't cover it 
        // and to utilize the screen resolution
        var leftmode = false;
        function lefthandedmode() {
            leftmode = !leftmode; // toggle val
            var tool = document.getElementById("sideBar"); // tool bar 
            var exp = document.getElementById("nav-expander"); // expander to unhide tool bar
            var add = document.getElementById("AddPageIcon"); // need to flip the add page icon to the other side
            var rem = document.getElementById("RemovePageIcon");
            var canvas = document.getElementById("myCanvas");

            if (leftmode) {
                tool.style.left = '0em';
                // reset the expander to the left
                exp.style.left = '0em';
                exp.style.right = 'auto';
                // flip add page icon
                add.style.right = '0em';
                add.style.left = 'auto';
                // flip remove page icon
                rem.style.right = '3em';
                rem.style.left = 'auto';
                // Move the canvas over so you can see it
                canvas.style.marginLeft = '135px';
            }
            else {
                tool.style.right = '0em';
                tool.style.left = 'auto';
                // reset the expander to the right
                exp.style.right = '0em';
                exp.style.left = 'auto';
                // flip add page icon
                add.style.left = '0em';
                add.style.right = 'auto';
                // flip remove page icon
                rem.style.left = '3em';
                rem.style.right = 'auto';
                // remove margin left
                canvas.style.marginLeft = 'auto';
            }
        }
    </script>
</html>